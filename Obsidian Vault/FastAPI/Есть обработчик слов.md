```python

from fastapi import FastAPI

from pydantic import BaseModel, field_validator, Field, EmailStr

from typing import Optional

import re

  

app = FastAPI()

feedback = list()

BANNED = ["редиск", "бяк", "козявк"]

  

class Contact(BaseModel):

    email: EmailStr

    phone : Optional[str] = None

  

    @field_validator("phone")

    def check_phone(cls, value : str | None) -> str | None:

        if value is None:

            return None

        value = value.replace(" ", "")

        if not re.fullmatch(r'^\+\d{10}$', value):

            raise ValueError("Номер не соответсвует формату +1234567890")

  

class Feedback(BaseModel):

    name: str = Field(min_length=2, max_length=50)

    message: str = Field(min_length=10, max_length=500)

    contact : Contact

  

    @field_validator("message")

    def check_banned_words(cls, value : str) -> str:

        lower_value = value.lower()

        for word in BANNED:

            if word in lower_value:

                raise ValueError("Использование недопустимых слов")

            return value

  

@app.post("/feedback")

async def entry_feedback(data : Feedback, is_premium : bool = False):

    feedback.append({data.name:data.message})

    if not is_premium:

        return {"message":f"Спасибо, {data.name}! Ваш отзыв сохранен."}

    if is_premium:

        return {"message":f"Спасибо, {data.name}! Ваш отзыв сохранен. Ваш отзыв будет рассмотрен в приоритетном порядке."}
```